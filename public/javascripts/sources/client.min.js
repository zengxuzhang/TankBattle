!function(){function a(){requestAnimFrame(a),i.render(h)}function b(a){var b=document.getElementById(a);b.play()}function c(){l.emit("left",null)}function d(){l.emit("right",null)}function e(){l.emit("up",null)}function f(){l.emit("down",null)}function g(){b("fire"),l.emit("fire",null)}var h,i,j,k,l=io();$(document).keydown(function(a){switch(a.keyCode){case 65:c();break;case 87:e();break;case 68:d();break;case 83:f();break;case 74:g()}}),l.on("welcome",function(a){j=a.width,k=a.height,h=new PIXI.Stage(0),i=PIXI.autoDetectRenderer(j,k),document.body.appendChild(i.view)}),l.on("update",function(b){if(b){h.children.length>0&&h.removeChildren(0,h.children.length);for(var c=b.tanks,d=b.missiles,e=0;e<c.length;e++){var f=c[e];if(null!==f){var g="resources/images/"+f.resource,i=PIXI.Texture.fromImage(g),j=new PIXI.Sprite(i);j.anchor.x=.5,j.anchor.y=.5,j.position.x=f.x,j.position.y=f.y,h.addChild(j)}}for(e=0;e<d.length;e++){var k=d[e];if(null!==k){var l="resources/images/"+k.resource,m=PIXI.Texture.fromImage(l),n=new PIXI.Sprite(m);n.anchor.x=.5,n.anchor.y=.5,n.position.x=k.x,n.position.y=k.y,h.addChild(n)}}requestAnimFrame(a)}})}();